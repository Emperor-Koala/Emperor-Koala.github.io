(this["webpackJsonpenigma-plus"]=this["webpackJsonpenigma-plus"]||[]).push([[0],{29:function(t,e,o){},30:function(t,e,o){"use strict";o.r(e);var r=o(1),n=o.n(r),a=o(12),s=o.n(a),i=o(10),c=o(11),l=o(9),d=o(7),u=o(4),h=o(3),p="1234567890qwertyuiopasdfghjklzxcvbnm\t ",v=[[[0,5],[1,34],[2,4],[3,0],[4,3],[5,6],[6,37],[7,8],[8,22],[9,29],[10,2],[11,26],[12,25],[13,31],[14,27],[15,32],[16,7],[17,23],[18,35],[19,11],[20,18],[21,30],[22,28],[23,36],[24,16],[25,15],[26,19],[27,20],[28,24],[29,9],[30,1],[31,21],[32,17],[33,13],[34,10],[35,33],[36,14],[37,12]],[[0,12],[1,25],[2,32],[3,10],[4,26],[5,20],[6,9],[7,35],[8,37],[9,6],[10,19],[11,34],[12,2],[13,4],[14,7],[15,3],[16,22],[17,33],[18,29],[19,13],[20,30],[21,14],[22,8],[23,24],[24,28],[25,23],[26,18],[27,15],[28,27],[29,0],[30,21],[31,1],[32,36],[33,31],[34,5],[35,16],[36,11],[37,17]],[[0,27],[1,34],[2,26],[3,31],[4,11],[5,28],[6,29],[7,8],[8,5],[9,1],[10,13],[11,35],[12,37],[13,0],[14,7],[15,33],[16,19],[17,30],[18,3],[19,23],[20,10],[21,4],[22,21],[23,20],[24,18],[25,14],[26,32],[27,9],[28,17],[29,22],[30,6],[31,16],[32,24],[33,12],[34,25],[35,2],[36,15],[37,36]],[[0,32],[1,33],[2,22],[3,35],[4,7],[5,19],[6,30],[7,2],[8,29],[9,10],[10,9],[11,36],[12,37],[13,27],[14,11],[15,13],[16,1],[17,4],[18,5],[19,17],[20,34],[21,31],[22,0],[23,14],[24,6],[25,8],[26,21],[27,3],[28,24],[29,28],[30,26],[31,18],[32,25],[33,20],[34,12],[35,16],[36,15],[37,23]],[[0,2],[1,30],[2,7],[3,22],[4,6],[5,36],[6,1],[7,32],[8,27],[9,3],[10,15],[11,35],[12,34],[13,14],[14,20],[15,17],[16,31],[17,11],[18,10],[19,24],[20,28],[21,25],[22,4],[23,13],[24,8],[25,33],[26,21],[27,37],[28,0],[29,12],[30,23],[31,19],[32,16],[33,18],[34,5],[35,9],[36,26],[37,29]]],m=[[0,7],[1,25],[2,33],[3,10],[4,23],[5,6],[6,5],[7,0],[8,17],[9,36],[10,3],[11,28],[12,32],[13,24],[14,35],[15,21],[16,34],[17,8],[18,31],[19,30],[20,29],[21,15],[22,27],[23,4],[24,13],[25,1],[26,37],[27,22],[28,11],[29,20],[30,19],[31,18],[32,12],[33,2],[34,16],[35,14],[36,9],[37,26]],f=function(t){return t=Math.floor(t),Math.floor(Math.random()*t)},k=o(13),b=o.n(k),j=o(14),g=o.n(j),x=o(31),O=o(0),y=function t(e,o){var r=this;Object(h.a)(this,t),this.num=void 0,this.position=void 0,this.runThrough=function(t,e){var o=v[r.num];if(e)return o[t=(t+r.position)%o.length][1];var n,a=Object(u.a)(o);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(t===s[1]){for(var i=s[0]-r.position;i<0;)i=o.length+i;return i%=o.length}}}catch(c){a.e(c)}finally{a.f()}return-1},this.toCookieValue=function(){return'{"num": '.concat(r.num,', "position": ').concat(r.position,"}")},this.num=e,this.position=o},C=function(){function t(e,o,r){var n=this;Object(h.a)(this,t),this.conn1=void 0,this.conn2=void 0,this.color=void 0,this.toJson=function(){return{conn1:n.conn1,conn2:n.conn2,color:n.color}},this.conn1=e,this.conn2=o,this.color=r}return Object(d.a)(t,[{key:"connection1",get:function(){return p.indexOf(this.conn1.toLowerCase())}},{key:"connection2",get:function(){return p.indexOf(this.conn2.toLowerCase())}}]),t}(),M=function(t){Object(c.a)(o,t);var e=Object(l.a)(o);function o(t){var r,n,a;Object(h.a)(this,o),(a=e.call(this,t)).initialPlugs=void 0,a.setupRotors=function(){var t,e,o,r=null,n=null,s=null,i=null===(t=a.props.cookies)||void 0===t?void 0:t.get("rotor1",{doNotParse:!0});if(i){var c=JSON.parse(i);c&&(r=new y(c.num,c.position))}var l=null===(e=a.props.cookies)||void 0===e?void 0:e.get("rotor2",{doNotParse:!0});if(l){var d=JSON.parse(l);d&&(n=new y(d.num,d.position))}var u=null===(o=a.props.cookies)||void 0===o?void 0:o.get("rotor3",{doNotParse:!0});if(u){var h=JSON.parse(u);h&&(s=new y(h.num,h.position))}if(r){var p=r.num;if(n){var m=n.num;if(!s){for(var k=f(5);k===p||k===m;)k=f(5);s=new y(k,f(v[k].length))}}else if(s){for(var b=s.num,j=f(5);j===p||j===b;)j=f(5);n=new y(j,f(v[j].length))}else{for(var g=f(5);p===g;)g=f(5);for(var x=f(5);x===p||x===g;)x=f(5);n=new y(g,f(v[g].length)),s=new y(x,f(v[x].length))}}else if(n){var O=n.num;if(s){for(var C=s.num,M=f(5);M===O||M===C;)M=f(5);r=new y(M,f(v[M].length))}else{for(var w=f(5);w===O;)w=f(5);for(var N=f(5);N===w||N===O;)N=f(5);r=new y(w,f(v[w].length)),s=new y(N,f(v[N].length))}}else if(s){for(var S=s.num,T=f(5);T===S;)T=f(5);for(var R=f(5);R===T||R===S;)R=f(5);r=new y(T,f(v[T].length)),n=new y(R,f(v[R].length))}else{for(var L=f(5),P=f(5);L===P;)P=f(5);for(var K=f(5);K===L||K===P;)K=f(5);r=new y(L,f(v[L].length)),n=new y(P,f(v[P].length)),s=new y(K,f(v[K].length))}return{rotor1:r,rotor2:n,rotor3:s}},a.saveCookieData=function(){var t,e,o,r;null===(t=a.props.cookies)||void 0===t||t.set("rotor1",a.state.rotor1.toCookieValue()),null===(e=a.props.cookies)||void 0===e||e.set("rotor2",a.state.rotor2.toCookieValue()),null===(o=a.props.cookies)||void 0===o||o.set("rotor3",a.state.rotor3.toCookieValue());var n,s=[],i=Object(u.a)(a.state.plugs);try{for(i.s();!(n=i.n()).done;){var c=n.value;s.push(c.toJson())}}catch(l){i.e(l)}finally{i.f()}null===(r=a.props.cookies)||void 0===r||r.set("plugs",JSON.stringify(s))},a.keydown=function(t){t.preventDefault(),t.stopPropagation();var e=t.key;if("Tab"===e&&(e="\t"),null===a.state.pressedKey&&p.includes(e)){var o=a.runMachine(e);a.setState((function(t){return{pressedKey:e,litKey:o,cipherText:t.cipherText+o}}))}},a.keyup=function(t){t.preventDefault(),t.stopPropagation();var e=t.key;"Tab"===e&&(e="\t"),null!==a.state.pressedKey&&a.state.pressedKey===e&&a.setState({pressedKey:null,litKey:null})},a.runThroughPlugs=function(t){var e,o=Object(u.a)(a.state.plugs);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(r.connection1===t)return r.connection2;if(r.connection2===t)return r.connection1}}catch(n){o.e(n)}finally{o.f()}return t},a.runMachine=function(t){if(a.state.rotor1===a.state.rotor2||a.state.rotor3===a.state.rotor2||a.state.rotor1===a.state.rotor3)return console.error("Error rotors cannot have the same number"),"?";var e=a.state,o=e.rotor1,r=e.rotor2,n=e.rotor3,s=p.indexOf(t);return s=a.runThroughPlugs(s),s=o.runThrough(s,!0),s=r.runThrough(s,!0),s=n.runThrough(s,!0),s=m[s%m.length][1],s=n.runThrough(s,!1),s=r.runThrough(s,!1),s=o.runThrough(s,!1),s=a.runThroughPlugs(s),o.position+=1,o.position===v[o.num].length&&(o.position=0,r.position+=1,r.position===v[r.num].length&&(r.position=0,n.position+=1,n.position===v[n.num].length&&(n.position=0))),a.setState({rotor1:o,rotor2:r,rotor3:n}),-1===s&&console.error(a.state.rotor1.position+", "+a.state.rotor2.position+", "+a.state.rotor3.position),p.charAt(s)},a.toggleDarkMode=function(t){var e,o=t.target.checked;null===(e=a.props.cookies)||void 0===e||e.set("darkMode",o,{path:"/"}),a.setState({darkMode:o}),o?document.body.classList.add("dark"):document.body.classList.remove("dark")};var s=a.setupRotors(),c="TRUE"===((null===(r=t.cookies)||void 0===r?void 0:r.get("darkMode"))||"FALSE"),l=[],d=null===(n=t.cookies)||void 0===n?void 0:n.get("plugs",{doNotParse:!0});if(d){var k,b=JSON.parse(d),j=Object(u.a)(b);try{for(j.s();!(k=j.n()).done;){var g=k.value;g.conn1&&g.conn2&&g.color&&l.push(new C(g.conn1,g.conn2,g.color))}}catch(x){j.e(x)}finally{j.f()}}return a.initialPlugs=l,a.state=Object(i.a)(Object(i.a)({pressedKey:null,litKey:null},s),{},{darkMode:c,plugs:l,cipherText:""}),c&&document.body.classList.add("dark"),setInterval(a.saveCookieData,3e4),a}return Object(d.a)(o,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydown),document.removeEventListener("keyup",this.keyup)}},{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{className:"ek-container",children:[Object(O.jsxs)("div",{style:{paddingBottom:"10px"},className:"ek-row",children:[Object(O.jsxs)("div",{style:{marginRight:"5px"},className:"ek-column",children:[Object(O.jsx)("div",{className:"ek-row",children:Object(O.jsx)("button",{className:"rotor-number ".concat(this.state.darkMode?"dark":""),onClick:function(){for(var e=t.state,o=e.rotor1,r=e.rotor2,n=e.rotor3,a=n.num,s=(a+1)%5;s!==a&&(s===o.num||s===r.num);)s=(s+1)%5;n.num=s,t.setState({rotor3:n})},children:this.state.rotor3.num})}),Object(O.jsx)("button",{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},className:"flipped ".concat(this.state.darkMode?"dark":""),onClick:function(){var e=t.state.rotor3;e.position=(e.position+1)%v[e.num].length,t.setState({rotor3:e})},children:"\u25be"}),Object(O.jsx)("div",{className:"rotor-position ".concat(this.state.darkMode?"dark":""),children:this.state.rotor3.position}),Object(O.jsx)("button",{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},className:this.state.darkMode?"dark":"",onClick:function(){var e=t.state.rotor3;0===e.position&&(e.position=v[e.num].length),e.position=e.position-1,t.setState({rotor3:e})},children:"\u25be"})]}),Object(O.jsxs)("div",{style:{marginRight:"5px"},className:"ek-column",children:[Object(O.jsx)("div",{className:"ek-row",children:Object(O.jsx)("button",{className:"rotor-number ".concat(this.state.darkMode?"dark":""),onClick:function(){for(var e=t.state,o=e.rotor1,r=e.rotor2,n=e.rotor3,a=r.num,s=(a+1)%5;s!==a&&(s===n.num||s===o.num);)s=(s+1)%5;r.num=s,t.setState({rotor2:r})},children:this.state.rotor2.num})}),Object(O.jsx)("button",{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},className:"flipped ".concat(this.state.darkMode?"dark":""),onClick:function(){var e=t.state.rotor2;e.position=(e.position+1)%v[e.num].length,t.setState({rotor2:e})},children:"\u25be"}),Object(O.jsx)("div",{className:"rotor-position ".concat(this.state.darkMode?"dark":""),children:this.state.rotor2.position}),Object(O.jsx)("button",{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},className:this.state.darkMode?"dark":"",onClick:function(){var e=t.state.rotor2;0===e.position&&(e.position=v[e.num].length),e.position=e.position-1,t.setState({rotor2:e})},children:"\u25be"})]}),Object(O.jsxs)("div",{style:{marginRight:"5px"},className:"ek-column",children:[Object(O.jsx)("div",{className:"ek-row",children:Object(O.jsx)("button",{className:"rotor-number ".concat(this.state.darkMode?"dark":""),onClick:function(){for(var e=t.state,o=e.rotor1,r=e.rotor2,n=e.rotor3,a=o.num,s=(a+1)%5;s!==a&&(s===n.num||s===r.num);)s=(s+1)%5;o.num=s,t.setState({rotor1:o})},children:this.state.rotor1.num})}),Object(O.jsx)("button",{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},className:"flipped ".concat(this.state.darkMode?"dark":""),onClick:function(){var e=t.state.rotor1;e.position=(e.position+1)%v[e.num].length,t.setState({rotor1:e})},children:"\u25be"}),Object(O.jsx)("div",{className:"rotor-position ".concat(this.state.darkMode?"dark":""),children:this.state.rotor1.position}),Object(O.jsx)("button",{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},className:this.state.darkMode?"dark":"",onClick:function(){var e=t.state.rotor1;0===e.position&&(e.position=v[e.num].length),e.position=e.position-1,t.setState({rotor1:e})},children:"\u25be"})]}),Object(O.jsx)("div",{style:{borderLeft:"1px solid #888",height:"100px",marginRight:"8px",marginLeft:"8px"}}),Object(O.jsxs)("label",{className:this.state.darkMode?"dark-mode-text":"",children:[Object(O.jsx)("input",{style:{marginRight:"5px"},name:"darkMode",type:"checkbox",checked:this.state.darkMode,onChange:this.toggleDarkMode}),"Dark Mode"]})]}),Object(O.jsx)("div",{className:"ek-row",children:"1234567890".split("").map((function(e){var o;return Object(O.jsx)(w,{char:e,pressed:e===(null===(o=t.state.litKey)||void 0===o?void 0:o.toUpperCase()),darkMode:t.state.darkMode},e)}))}),Object(O.jsxs)("div",{className:"ek-row",children:[Object(O.jsx)(w,{char:"Tab",pressed:"\t"===this.state.litKey,darkMode:this.state.darkMode}),"QWERTYUIOP".split("").map((function(e){var o;return Object(O.jsx)(w,{char:e,pressed:e===(null===(o=t.state.litKey)||void 0===o?void 0:o.toUpperCase()),darkMode:t.state.darkMode},e)}))]}),Object(O.jsx)("div",{className:"ek-row",children:"ASDFGHJKL".split("").map((function(e){var o;return Object(O.jsx)(w,{char:e,pressed:e===(null===(o=t.state.litKey)||void 0===o?void 0:o.toUpperCase()),darkMode:t.state.darkMode},e)}))}),Object(O.jsx)("div",{className:"ek-row",children:"ZXCVBNM".split("").map((function(e){var o;return Object(O.jsx)(w,{char:e,pressed:e===(null===(o=t.state.litKey)||void 0===o?void 0:o.toUpperCase()),darkMode:t.state.darkMode},e)}))}),Object(O.jsx)("div",{className:"ek-row",children:Object(O.jsx)(w,{char:"Space",pressed:" "===this.state.litKey,darkMode:this.state.darkMode})}),Object(O.jsxs)("div",{className:"ek-row",style:{alignItems:"stretch",marginTop:"8px",marginBottom:"8px"},children:[Object(O.jsx)("input",{style:{height:"35px",width:"300px",borderRadius:"2px",border:"none",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2)",marginRight:"10px"},value:this.state.cipherText}),Object(O.jsx)("button",{className:this.state.darkMode?"dark":"",style:{padding:"0 15px"},onClick:function(){t.setState({cipherText:""})},children:"Clear"})]}),Object(O.jsx)("div",{className:"ek-row",children:Object(O.jsx)("hr",{})}),Object(O.jsx)("div",{className:"ek-row",style:{fontSize:"18pt",color:this.state.darkMode?"#eee":"black",paddingBottom:"5px"},children:"Plugboard"}),Object(O.jsx)(N,{darkMode:this.state.darkMode,setPlugs:function(e){t.setState({plugs:e})},initialPlugs:this.initialPlugs})]})}}]),o}(n.a.Component);function w(t){return Object(O.jsx)("div",{className:"keyboard-char ".concat(t.darkMode?"dark":""," ").concat(t.pressed?"pressed":""),style:"Tab"===t.char?{width:"100px"}:"Space"===t.char?{width:"200px",height:"70px"}:{},children:Object(O.jsx)("p",{children:t.char})})}var N=function(t){Object(c.a)(o,t);var e=Object(l.a)(o);function o(t){var r;return Object(h.a)(this,o),(r=e.call(this,t)).clicked=function(t){var e=g.a.cloneDeep(r.state.plugs).filter((function(e){return!(e.conn1===t||e.conn2===t)}));if(r.state.fromChar===t)r.setState({fromChar:null,plugs:e});else{if(null===r.state.fromChar)return void r.setState({fromChar:t,plugs:e});e.push(new C(r.state.fromChar,t,r.state.currentColor)),r.setState({fromChar:null,plugs:e}),r.props.setPlugs(e)}},r.hover=function(t,e){e?null!==r.state.fromChar?r.setState({hoveringChar:t}):r.setState({hoveringChar:t,currentColor:"#".concat(f(256).toString(16).padStart(2,"0")).concat(f(256).toString(16).padStart(2,"0")).concat(f(256).toString(16).padStart(2,"0"))}):r.state.hoveringChar===t&&r.setState({hoveringChar:null})},r.themeClass=function(){return r.props.darkMode?"dark":""},r.characterMapper=function(t){var e={};"\t"===t&&(e.width="100px");var o=r.state.plugs.find((function(e){return e.conn1===t||e.conn2===t}));return o?e.backgroundColor=o.color:r.state.fromChar!==t&&r.state.hoveringChar!==t||(e.backgroundColor=r.state.currentColor),Object(O.jsx)("div",{className:"keyboard-char plugboard-char ".concat(r.themeClass()," Character-").concat("\t"===t?"Tab":t),style:e,onClick:function(){return r.clicked(t)},onMouseEnter:function(){return r.hover(t,!0)},onMouseLeave:function(){return r.hover(t,!1)},children:Object(O.jsx)("p",{style:{zIndex:10},children:"\t"===t?"Tab":t})},"Character-".concat("\t"===t?"Tab":t))},r.state={plugs:t.initialPlugs,fromChar:null,currentColor:"",hoveringChar:null},r}return Object(d.a)(o,[{key:"componentDidMount",value:function(){this.setState({})}},{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"ek-row",children:"1234567890".split("").map(this.characterMapper)}),Object(O.jsx)("div",{className:"ek-row",children:"\tQWERTYUIOP".split("").map(this.characterMapper)}),Object(O.jsx)("div",{className:"ek-row",children:"ASDFGHJKL".split("").map(this.characterMapper)}),Object(O.jsx)("div",{className:"ek-row",children:"ZXCVBNM".split("").map(this.characterMapper)}),Object(O.jsx)("div",{className:"ek-row",children:function(){var e=" ",o=t.state.plugs.find((function(t){return t.conn1===e||t.conn2===e})),r={width:"200px",height:"70px"};return o?r.backgroundColor=o.color:t.state.fromChar!==e&&t.state.hoveringChar!==e||(r.backgroundColor=t.state.currentColor),Object(O.jsx)("div",{className:"keyboard-char plugboard-char ".concat(t.themeClass()," Character-Space"),style:r,onClick:function(){return t.clicked(e)},onMouseEnter:function(){return t.hover(e,!0)},onMouseLeave:function(){return t.hover(e,!1)},children:Object(O.jsx)("p",{style:{zIndex:10},children:"Space"})})}()}),this.state.plugs.map((function(t){return Object(O.jsx)(b.a,{from:"Character-".concat("\t"===t.conn1?"Tab":" "===t.conn1?"Space":t.conn1),to:"Character-".concat("\t"===t.conn2?"Tab":" "===t.conn2?"Space":t.conn2),fromAnchor:"middle middle",toAnchor:"middle middle",borderWidth:3,borderColor:t.color},"Plug-".concat(t.conn1,"-").concat(t.conn2))}))]})}}]),o}(n.a.Component),S=Object(x.a)(M),T=(o(29),o(32));var R=function(){return Object(O.jsx)(T.a,{children:Object(O.jsx)(S,{})})},L=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,33)).then((function(e){var o=e.getCLS,r=e.getFID,n=e.getFCP,a=e.getLCP,s=e.getTTFB;o(t),r(t),n(t),a(t),s(t)}))};s.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root")),L()}},[[30,1,2]]]);
//# sourceMappingURL=main.3a464012.chunk.js.map